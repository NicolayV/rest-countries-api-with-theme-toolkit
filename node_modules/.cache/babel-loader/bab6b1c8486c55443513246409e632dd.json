{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nexport const loadCountries = createAsyncThunk(\"@@countries/load-countries\", async (_, _ref) => {\n  let {\n    extra: {\n      client,\n      api\n    }\n  } = _ref;\n  return client.get(api.ALL_COUNTRIES);\n});\nconst initialState = {\n  status: \"idle\",\n  // rejected, loading, received\n  error: null,\n  list: []\n};\nconst countriesSlice = createSlice({\n  name: \"@@countries\",\n  initialState,\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(loadCountries.pending, state => {\n      state.status = \"loading\";\n      state.error = null;\n    }).addCase(loadCountries.rejected, (state, action) => {\n      state.status = \"rejected\";\n      state.error = action.payload || action.meta.error;\n    }).addCase(loadCountries.fulfilled, (state, action) => {\n      state.list = action.payload.data;\n      state.status = \"received\";\n    });\n  }\n});\nexport const countryReducer = countriesSlice.reducer; // !Selectors\n\nexport const selectCountriesInfo = state => ({\n  status: state.countries.status,\n  error: state.countries.error,\n  qty: state.countries.list.length\n});\nexport const selectAllCountries = state => state.countries.list;\nexport const selectVisibleCountries = (state, _ref2) => {\n  let {\n    search = \"\",\n    region = \"\"\n  } = _ref2;\n  return state.countries.list.filter(country => country.name.toLowerCase().includes(search.toLowerCase()) && country.region.includes(region));\n};","map":{"version":3,"sources":["/Users/velgoshnicolay/Projects/REDUX/rest-countries-api-with-theme-toolkit/src/features/countries/countries-slice.js"],"names":["createAsyncThunk","createSlice","loadCountries","_","extra","client","api","get","ALL_COUNTRIES","initialState","status","error","list","countriesSlice","name","reducers","extraReducers","builder","addCase","pending","state","rejected","action","payload","meta","fulfilled","data","countryReducer","reducer","selectCountriesInfo","countries","qty","length","selectAllCountries","selectVisibleCountries","search","region","filter","country","toLowerCase","includes"],"mappings":"AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AAEA,OAAO,MAAMC,aAAa,GAAGF,gBAAgB,CAC3C,4BAD2C,EAE3C,OAAOG,CAAP,WAAyC;AAAA,MAA/B;AAAEC,IAAAA,KAAK,EAAE;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV;AAAT,GAA+B;AACvC,SAAOD,MAAM,CAACE,GAAP,CAAWD,GAAG,CAACE,aAAf,CAAP;AACD,CAJ0C,CAAtC;AAOP,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,MADW;AACH;AAChBC,EAAAA,KAAK,EAAE,IAFY;AAGnBC,EAAAA,IAAI,EAAE;AAHa,CAArB;AAMA,MAAMC,cAAc,GAAGZ,WAAW,CAAC;AACjCa,EAAAA,IAAI,EAAE,aAD2B;AAEjCL,EAAAA,YAFiC;AAGjCM,EAAAA,QAAQ,EAAE,EAHuB;AAIjCC,EAAAA,aAAa,EAAGC,OAAD,IAAa;AAC1BA,IAAAA,OAAO,CACJC,OADH,CACWhB,aAAa,CAACiB,OADzB,EACmCC,KAAD,IAAW;AACzCA,MAAAA,KAAK,CAACV,MAAN,GAAe,SAAf;AACAU,MAAAA,KAAK,CAACT,KAAN,GAAc,IAAd;AACD,KAJH,EAKGO,OALH,CAKWhB,aAAa,CAACmB,QALzB,EAKmC,CAACD,KAAD,EAAQE,MAAR,KAAmB;AAClDF,MAAAA,KAAK,CAACV,MAAN,GAAe,UAAf;AACAU,MAAAA,KAAK,CAACT,KAAN,GAAcW,MAAM,CAACC,OAAP,IAAkBD,MAAM,CAACE,IAAP,CAAYb,KAA5C;AACD,KARH,EASGO,OATH,CASWhB,aAAa,CAACuB,SATzB,EASoC,CAACL,KAAD,EAAQE,MAAR,KAAmB;AACnDF,MAAAA,KAAK,CAACR,IAAN,GAAaU,MAAM,CAACC,OAAP,CAAeG,IAA5B;AACAN,MAAAA,KAAK,CAACV,MAAN,GAAe,UAAf;AACD,KAZH;AAaD;AAlBgC,CAAD,CAAlC;AAqBA,OAAO,MAAMiB,cAAc,GAAGd,cAAc,CAACe,OAAtC,C,CAEP;;AACA,OAAO,MAAMC,mBAAmB,GAAIT,KAAD,KAAY;AAC7CV,EAAAA,MAAM,EAAEU,KAAK,CAACU,SAAN,CAAgBpB,MADqB;AAE7CC,EAAAA,KAAK,EAAES,KAAK,CAACU,SAAN,CAAgBnB,KAFsB;AAG7CoB,EAAAA,GAAG,EAAEX,KAAK,CAACU,SAAN,CAAgBlB,IAAhB,CAAqBoB;AAHmB,CAAZ,CAA5B;AAMP,OAAO,MAAMC,kBAAkB,GAAIb,KAAD,IAAWA,KAAK,CAACU,SAAN,CAAgBlB,IAAtD;AAEP,OAAO,MAAMsB,sBAAsB,GAAG,CAACd,KAAD,YAAyC;AAAA,MAAjC;AAAEe,IAAAA,MAAM,GAAG,EAAX;AAAeC,IAAAA,MAAM,GAAG;AAAxB,GAAiC;AAC7E,SAAOhB,KAAK,CAACU,SAAN,CAAgBlB,IAAhB,CAAqByB,MAArB,CACJC,OAAD,IACEA,OAAO,CAACxB,IAAR,CAAayB,WAAb,GAA2BC,QAA3B,CAAoCL,MAAM,CAACI,WAAP,EAApC,KACAD,OAAO,CAACF,MAAR,CAAeI,QAAf,CAAwBJ,MAAxB,CAHG,CAAP;AAKD,CANM","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\n\nexport const loadCountries = createAsyncThunk(\n  \"@@countries/load-countries\",\n  async (_, { extra: { client, api } }) => {\n    return client.get(api.ALL_COUNTRIES);\n  }\n);\n\nconst initialState = {\n  status: \"idle\", // rejected, loading, received\n  error: null,\n  list: [],\n};\n\nconst countriesSlice = createSlice({\n  name: \"@@countries\",\n  initialState,\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(loadCountries.pending, (state) => {\n        state.status = \"loading\";\n        state.error = null;\n      })\n      .addCase(loadCountries.rejected, (state, action) => {\n        state.status = \"rejected\";\n        state.error = action.payload || action.meta.error;\n      })\n      .addCase(loadCountries.fulfilled, (state, action) => {\n        state.list = action.payload.data;\n        state.status = \"received\";\n      });\n  },\n});\n\nexport const countryReducer = countriesSlice.reducer;\n\n// !Selectors\nexport const selectCountriesInfo = (state) => ({\n  status: state.countries.status,\n  error: state.countries.error,\n  qty: state.countries.list.length,\n});\n\nexport const selectAllCountries = (state) => state.countries.list;\n\nexport const selectVisibleCountries = (state, { search = \"\", region = \"\" }) => {\n  return state.countries.list.filter(\n    (country) =>\n      country.name.toLowerCase().includes(search.toLowerCase()) &&\n      country.region.includes(region)\n  );\n};\n"]},"metadata":{},"sourceType":"module"}